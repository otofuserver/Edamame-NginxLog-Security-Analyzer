# UrlCodec

対象: `src/main/java/com/edamame/security/tools/UrlCodec.java`

## 概要
- URL のエンコード/デコード処理を提供するユーティリティクラス。
- UTF-8 固定でのエンコード/デコードを行い、多重エンコードされた文字列の再帰的デコード機能を持つ。

## 主な機能
- URL のデコード（%エンコーディング → 通常文字列）
- URL のエンコード（指定文字列 → %エンコード）
- インスタンス化禁止の static ユーティリティ

## 挙動
- `decode` は最大5回まで再帰的にデコードを試行し、変化がなくなるか `%` が含まれなくなると処理を終了する。
- `encode` は UTF-8 固定でエンコードを行い、失敗時は入力文字列をそのまま返すフェールセーフを備えている。
- null 入力は null を返す。

## 細かい指定された仕様
- 文字エンコーディングは常に UTF-8 とする（BOMなしの UTF-8 を前提）。
- デコード処理では `+` をスペースとして扱い、URL デコードを行う。
- 多重デコードの最大回数は 5 回に制限する（無限ループ防止）。
- 例外時は呼び出し元に例外を投げず、直前の有効な文字列（または入力値）を返す（安全なフェールバック）。

## メソッド一覧と機能（主なもの）
- `public static String decode(String url)`
  - 指定された URL 文字列をデコードして返す。null は null を返す。多重エンコードに対応し最大5回まで再帰デコードする。

- `public static String encode(String value)`
  - 指定された文字列を UTF-8 で URL エンコードして返す。null は null を返す。例外発生時は入力文字列をそのまま返す。

- `private UrlCodec()`
  - インスタンス化禁止（AssertionError をスロー）。

## その他
- 本ユーティリティはサニタイズや XSS 対策を目的としたものではない。入力値の妥当性チェックや HTML エスケープ等は呼び出し側で行うこと。

## 変更履歴
- 1.0.0 - 2025-12-30: 新規作成（ドキュメント化）

## コミット��ッセージ例
- docs: UrlCodec の仕様書を追加（Javadoc とメソッド一覧を明記）

